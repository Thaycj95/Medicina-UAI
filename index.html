<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Malla Curricular Medicina - UAI</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: #fdf6fb;
    margin: 0;
    padding: 20px;
    color: #4a2b4c;
  }
  h1 {
    text-align: center;
    color: #b04ba0;
    margin-bottom: 20px;
  }
  .grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
  }
  .fila {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }
  .anio {
    background: #fff0fa;
    border: 2px solid #e7b7e5;
    border-radius: 16px;
    padding: 15px;
    width: 240px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
  .anio h2 {
    text-align: center;
    color: #8b3e8a;
    margin-bottom: 10px;
  }
  .materia {
    background: #fce4f6;
    border: 1px solid #dba4d8;
    padding: 8px;
    margin: 6px 0;
    border-radius: 8px;
    cursor: pointer;
    position: relative;
    transition: background 0.3s;
    font-size: 14px;
  }
  .materia.aprobada {
    background: #d6f5d6;
    text-decoration: line-through;
  }
  .materia.bloqueada {
    background: #f8d7f0;
    cursor: not-allowed;
    opacity: 0.7;
  }
  .materia .candado {
    position: absolute;
    right: 8px;
    top: 8px;
    font-size: 16px;
    color: #8b3e8a;
  }
  .tooltip {
    visibility: hidden;
    background-color: #b04ba0;
    color: #fff;
    text-align: center;
    padding: 5px;
    border-radius: 6px;
    position: absolute;
    z-index: 1;
    bottom: 120%;
    left: 50%;
    transform: translateX(-50%);
    width: 180px;
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 12px;
  }
  .materia:hover .tooltip {
    visibility: visible;
    opacity: 1;
  }
</style>
</head>
<body>
<h1>Malla Curricular Medicina - UAI</h1>
<div class="grid">
  <div class="fila" id="fila-superior"></div>
  <div class="fila" id="fila-inferior"></div>
</div>

<script>
// Materias completas con correlativas segÃºn PDF (codigos 01 a 63)
const materias = [
  // 1er AÃ±o
  {id:"01",nombre:"AnatomÃ­a Humana I",anio:1,correl:[]},
  {id:"02",nombre:"HistologÃ­a-CitologÃ­a-EmbriologÃ­a I",anio:1,correl:[]},
  {id:"03",nombre:"InformÃ¡tica BiomÃ©dica I",anio:1,correl:[]},
  {id:"04",nombre:"Humanismo MÃ©dico y BioÃ©tica",anio:1,correl:[]},
  {id:"05",nombre:"Destrezas MÃ©dicas: Primeros Auxilios",anio:1,correl:[]},
  {id:"06",nombre:"AnatomÃ­a Humana II",anio:1,correl:["01"]},
  {id:"07",nombre:"HistologÃ­a-CitologÃ­a-EmbriologÃ­a II",anio:1,correl:["02"]},
  {id:"08",nombre:"InglÃ©s I",anio:1,correl:[]},
  {id:"09",nombre:"PrevenciÃ³n Primaria de la Salud",anio:1,correl:[]},
  {id:"10",nombre:"ComunicaciÃ³n MÃ©dico-Paciente",anio:1,correl:[]},
  {id:"11",nombre:"IntegraciÃ³n y Entrenamiento I",anio:1,correl:[]},

  // 2do AÃ±o
  {id:"12",nombre:"FisiologÃ­a y BiofÃ­sica I",anio:2,correl:["06","07"]},
  {id:"13",nombre:"BioquÃ­mica y BiologÃ­a Molecular I",anio:2,correl:["06","07"]},
  {id:"14",nombre:"Principios BÃ¡sicos de Salud PÃºblica",anio:2,correl:[]},
  {id:"15",nombre:"InglÃ©s II",anio:2,correl:["08"]},
  {id:"16",nombre:"Destrezas MÃ©dicas: EnfermerÃ­a y Habilidades ClÃ­nicas",anio:2,correl:["10"]},
  {id:"17",nombre:"FisiologÃ­a y BiofÃ­sica II",anio:2,correl:["12"]},
  {id:"18",nombre:"BioquÃ­mica y BiologÃ­a Molecular II",anio:2,correl:["13"]},
  {id:"19",nombre:"Medicina de Estilo de Vida",anio:2,correl:["14"]},
  {id:"20",nombre:"InformÃ¡tica BiomÃ©dica II",anio:2,correl:["03"]},
  {id:"21",nombre:"Acciones en la Comunidad",anio:2,correl:["16"]},
  {id:"22",nombre:"IntegraciÃ³n y Entrenamiento II",anio:2,correl:["11"]},

  // 3er AÃ±o
  {id:"23",nombre:"PatologÃ­a I",anio:3,correl:["17"]},
  {id:"24",nombre:"FisiopatologÃ­a I",anio:3,correl:["17"]},
  {id:"25",nombre:"MicrobiologÃ­a e InmunologÃ­a I",anio:3,correl:["18"]},
  {id:"26",nombre:"FarmacologÃ­a I",anio:3,correl:["18"]},
  {id:"27",nombre:"Salud Mental y Neurociencias I",anio:3,correl:[]},
  {id:"28",nombre:"IntroducciÃ³n a la SemiologÃ­a",anio:3,correl:["21"]},
  {id:"29",nombre:"PatologÃ­a II",anio:3,correl:["23"]},
  {id:"30",nombre:"FisiopatologÃ­a II",anio:3,correl:["24"]},
  {id:"31",nombre:"MicrobiologÃ­a e InmunologÃ­a II",anio:3,correl:["25"]},
  {id:"32",nombre:"FarmacologÃ­a II",anio:3,correl:["26"]},
  {id:"33",nombre:"IntroducciÃ³n a la InvestigaciÃ³n BiomÃ©dica",anio:3,correl:[]},
  {id:"34",nombre:"Destrezas MÃ©dicas: Primer Nivel de AtenciÃ³n",anio:3,correl:["21"]},
  {id:"35",nombre:"IntegraciÃ³n y Entrenamiento III",anio:3,correl:["22"]},

  // 4to AÃ±o
  {id:"36",nombre:"Medicina Interna I",anio:4,correl:["28","29","30","31","34"]},
  {id:"37",nombre:"Medicina Interna II",anio:4,correl:["29","30","31","32","34","36"]},
  {id:"38",nombre:"BÃºsqueda e InterpretaciÃ³n de BibliografÃ­a BiomÃ©dica",anio:4,correl:["33"]},
  {id:"39",nombre:"CirugÃ­a General",anio:4,correl:["27","28","29","30"]},
  {id:"40",nombre:"Trabajo, Ambiente y Salud",anio:4,correl:[]},
  {id:"41",nombre:"GestiÃ³n en Salud y Seguridad del Paciente",anio:4,correl:[]},
  {id:"42",nombre:"Fundamentos de DiagnÃ³stico por ImÃ¡genes",anio:4,correl:[]},
  {id:"43",nombre:"Optativa I",anio:4,correl:[]},
  {id:"44",nombre:"IntegraciÃ³n y Entrenamiento IV",anio:4,correl:["35"]},

  // 5to AÃ±o
  {id:"45",nombre:"DiseÃ±o de Investigaciones BiomÃ©dicas",anio:5,correl:["38"]},
  {id:"46",nombre:"Enfermedades Infecciosas",anio:5,correl:["36","37"]},
  {id:"47",nombre:"FarmacologÃ­a y TerapÃ©utica",anio:5,correl:["32","36","37"]},
  {id:"48",nombre:"Salud Mental y Neurociencias II",anio:5,correl:["27","36","37"]},
  {id:"49",nombre:"GinecologÃ­a y Obstetricia",anio:5,correl:["36","37","39"]},
  {id:"50",nombre:"PediatrÃ­a",anio:5,correl:["36","37"]},
  {id:"51",nombre:"Medicina Legal y BioÃ©tica",anio:5,correl:["36","37"]},
  {id:"52",nombre:"ToxicologÃ­a",anio:5,correl:["36","37"]},
  {id:"53",nombre:"EmergentologÃ­a",anio:5,correl:["36","37","39"]},
  {id:"54",nombre:"GerontologÃ­a",anio:5,correl:["36","37","39"]},
  {id:"55",nombre:"RehabilitaciÃ³n",anio:5,correl:["36","37","39"]},
  {id:"56",nombre:"Ortopedia y TraumatologÃ­a",anio:5,correl:["36","37","39"]},
  {id:"57",nombre:"Optativa II",anio:5,correl:[]},
  {id:"58",nombre:"Optativa III",anio:5,correl:[]},
  {id:"59",nombre:"IntegraciÃ³n y Entrenamiento V",anio:5,correl:[]},

  // 6to AÃ±o
  {id:"60",nombre:"PasantÃ­a MÃ©dica Comunitaria",anio:6,correl:Array.from({length:59},(_,i)=>(i+1).toString().padStart(2,"0"))},
  {id:"61",nombre:"Internado Rotatorio Obligatorio",anio:6,correl:Array.from({length:59},(_,i)=>(i+1).toString().padStart(2,"0"))},
  {id:"62",nombre:"Trabajo Final",anio:6,correl:Array.from({length:59},(_,i)=>(i+1).toString().padStart(2,"0"))},
  {id:"63",nombre:"Examen Final",anio:6,correl:Array.from({length:62},(_,i)=>(i+1).toString().padStart(2,"0"))},
];

// Crear columnas dinÃ¡micamente
function crearColumnas() {
  for (let anio = 1; anio <= 6; anio++) {
    const col = document.createElement("div");
    col.className = "anio";
    col.innerHTML = `<h2>${anio}Â° AÃ±o</h2>`;
    materias.filter(m=>m.anio===anio).forEach(m=>{
      const div = document.createElement("div");
      div.className = "materia";
      div.dataset.id = m.id;
      div.innerHTML = `${m.nombre}<span class="candado"></span><div class="tooltip"></div>`;
      col.appendChild(div);
    });
    if (anio <= 3) document.getElementById("fila-superior").appendChild(col);
    else document.getElementById("fila-inferior").appendChild(col);
  }
}

// Estado guardado
function cargarProgreso() {
  return JSON.parse(localStorage.getItem("aprobadas")||"[]");
}
function guardarProgreso(aprobadas) {
  localStorage.setItem("aprobadas",JSON.stringify(aprobadas));
}

// Actualiza bloqueos y estilos
function actualizarEstado() {
  const aprobadas = cargarProgreso();
  document.querySelectorAll(".materia").forEach(div=>{
    const id = div.dataset.id;
    const mat = materias.find(m=>m.id===id);
    const faltantes = mat.correl.filter(c=>!aprobadas.includes(c));
    if (aprobadas.includes(id)) {
      div.classList.add("aprobada");
      div.classList.remove("bloqueada");
      div.querySelector(".candado").textContent = "";
      div.querySelector(".tooltip").textContent = "";
    } else if (faltantes.length) {
      div.classList.add("bloqueada");
      div.classList.remove("aprobada");
      div.querySelector(".candado").textContent = "ðŸ”’";
      div.querySelector(".tooltip").textContent = "Falta aprobar: "+faltantes.join(", ");
    } else {
      div.classList.remove("aprobada","bloqueada");
      div.querySelector(".candado").textContent = "";
      div.querySelector(".tooltip").textContent = "";
    }
  });
}

// Interacciones
function inicializar() {
  crearColumnas();
  actualizarEstado();
  document.querySelectorAll(".materia").forEach(div=>{
    div.addEventListener("click",()=>{
      const id = div.dataset.id;
      if (div.classList.contains("bloqueada")) {
        alert(div.querySelector(".tooltip").textContent);
        return;
      }
      let aprobadas = cargarProgreso();
      if (aprobadas.includes(id)) aprobadas = aprobadas.filter(x=>x!==id);
      else aprobadas.push(id);
      guardarProgreso(aprobadas);
      actualizarEstado();
    });
  });
}
inicializar();
</script>
</body>
</html>
